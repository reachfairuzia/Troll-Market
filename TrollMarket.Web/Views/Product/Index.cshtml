@using TrollMarket.ViewModel.Products
@model IndexProductViewModel

@section modalDialog{
    <div class="modal-layer">
        <partial name="_AddToCart"></partial>
        <partial name="_DetailInfo"></partial>
    </div>
}
<script>
    document.addEventListener("DOMContentLoaded", function(){
        $(".close-button").click(function () {
            $(".modal-layer").removeAttr("style");
            $(".popup-dialog").removeAttr("style");
        });
        console.log("print");
    })

</script>

<div style="border : solid black 1px; margin : 10px;" class="mt-7 p-2 me-5">Shop</div>

<div style="border : solid black 1px; margin : 10px;" class="mt-2 me-5">
<form method="get" asp-controller="Product" asp-action="Index" style="width : 25%;" class="m-4">
    <div class="form-group>
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" name="searchName" placeholder="Product Name" value="@Model.searchName">
    </div>
    <div class="form-group">
        <label for="category">Category</label>
        <input type="text" class="form-control" id="category" name="searchCategory" placeholder="Category" value="@Model.searchCategory">
    </div>
    <div class="form-group">
        <label for="description">Description</label>
        <input type="text" class="form-control" name="searchDescription" id="description" value="@Model.searchDescription">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>
</div>

<div style="border : solid black 1px; margin : 10px;" class="mt-2 me-5">
<table id="myTable" class="display table table-hover m-4 py-4" style="width : 90%">
    <thead class="thead-dark">
        <tr style="border : solid black 1px;">
            <th class="text-center" scope="col"></th>
            <th style="border : solid black 1px;" class="text-center" scope="col">Product Name</th>
            <th style="border : solid black 1px;" class="text-center" scope="col">Category</th>
            <th style="border : solid black 1px;" class="text-center" scope="col">Description</th>
            <th style="border : solid black 1px;" class="text-center" scope="col">Price</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var item in Model.listProduct)
        {
            <tr>
                <td class="text-center">
                    <a class="btn btn-outline-secondary btn-cart">Add To Cart</a>
                    <a class="btn btn-outline-secondary btn-detail" asp-route-id="@item.ProductId" asp-action="Detail">Detail Info</a>
                </td>
                <td style="border : solid black 1px;" class="text-center">@item.ProductName</td>
                <td style="border : solid black 1px;" class="text-center">@item.CategoryName</td>
                <td style="border : solid black 1px;" class="text-center">@item.Description</td>
                <td style="border : solid black 1px;" class="text-center">@item.StringPrice</td>
            </tr>
        }
    </tbody>
</table>
</div>

